# DNS

## 一个完整的域名

www.baidu.com

从后往前分别是顶级域名，二级域名，三级域名。在com后面还有个.根域名，只不过一般省略不写

## 一个完整的URL

http://www.baidu.com

在完整的域名前面加一个协议，http，https等

访问网络时，不认域名，只认IP地址，所以需要将域名解析成IP地址，才能访问到具体的服务

## 域名解析

将DNS解析成IP地址

会由主机发出域名解析请求

### 域名查询步骤

1. 先查询本地DNS缓存，速度最快
2. 如果上步没有查到，再查本地host文件，其中存储着静态的域名和IP地址的对应关系
3. 如果上步没有查到，再查本地DNS服务器，这里的本地DNS服务器会查询其他的根域名服务器，顶级域名服务器等得到最终结果

### 递归查询

查询一次就获得最终结果，中间具体过程不用了解

主机访问本地DNS服务器就是递归查询，只查询一次就获得最终结果

### 迭代查询

查询一次，获得一个返回信息，然后根据返回信息进行下一次查询，重复这一步骤多次后，最后获得最终结果

本地DNS服务器进行域名查询时就是迭代查询，
先查询根域名服务器，根域名服务器返回信息“不知道，可以查一下顶级域名服务器”
查询顶级域名服务器，顶级域名服务器返回信息“不知道，可以查一下二级域名服务器”
查询二级域名服务器，二级域名服务器返回信息“知道，是****”

### 域名查询步骤图

![](http://cdn.frankjoey.com//img2/202211031807354.png)

# DHCP

也是基于UDP的，无连接的，不可靠的

动态IP地址分配协议

一般我们的电脑都没有配IP地址，也能正常上网，这是因为自动分配了IP地址

## 动态分配地址过程

![](http://cdn.frankjoey.com//img2/202211031924214.png)

# 协议端口号对照

![](http://cdn.frankjoey.com//img2/202211031846732.png)


# IP地址

点分十进制

二进制一共32位，分为四段，每段8位，对应10进制就是0-$2^8-1$(即255)

## 分类IP地址

ip地址由网络号和主机号组成，根据网络号的位数，将ip地址进行分类

![](http://cdn.frankjoey.com//img2/202211031913710.png)

A类是8位网络号，B类是16位网络号，C类是24位网络号

D类是组播

广播是主机号都为1的ip地址

- 看二进制
空出最前面一个0，后面全是1

- 看10进制
第一位
第一次加$2^7-1$
第二次加$2^6-1$
第三次加$2^5-1$
第四次加$2^4-1$
其他位
起始地址全是0，终止地址全是255

## 无分类IP地址

不按照A,B,C类进行划分，特殊的ip地址

格式

在ip地址后加/网络号位数

如10.0.1.13/10即ip地址为10.0.1.13，网络号10位，主机号22位，不属于任何一类

# 子网划分

一个公司一般会申请一个比较大的网络地址，一般是分类IP地址。但是公司的主机并没有那么多，如果直接分配的话间隔数太大。这个时候就会划分出子网。

正常的ip地址分为网络号和主机号。

B类ip地址有16位网络号，16位主机号。
这16位主机号范围太大，完全用不完，所以从中取出几位作为网络号的一部分，这几位称为子网号。网络号和子网号本质上都是网络号。

这样只需要留足够位数的主机号来分配给公司数量有限的主机就可以了

## 子网掩码

网络号和子网号都为1，主机号都为0

假设网络号和子网号总共的位数为24位，主机号位数为8位，那么子网掩码为255.255.255.0

## 标识

主机号用来标识主机，子网号可以用来细分一下主机

比如公司有3000台电脑，分为10个部门，每个部门300台

可以用子网号来区分这10个部门，然后用主机号来标识每个部门的电脑

注意

子网号可以全为0或全为1，因此可以标识的个数为$2^{位数}$

但是主机号不能全为0或全为1，全为1是广播地址，全为0则代表本网络
因此可以标识的主机个数为$2^{位数}-2$

## 超网

有的时候主机号位数不足以标识全部主机，可以将多个小型网络汇聚成超网，就是子网划分的逆过程，从网络号中取出几位作为主机号。

因为网络号位数越少，能够标识的主机便越多

# 网络存储技术

针对于服务器来说的，服务器需要存储海量的数据，需要采用一些存储技术来规划存储的方式

## 直接存储技术DAS

就像个人PC一样存储，通过在服务器上插磁盘来增加存储空间。

### 特点

- 可扩展性差，因为服务器上插槽有限，插满了就没办法再增加了
- 没办法共享，在服务器A上的磁盘中的数据，服务器B就没有

## 网络存储技术NAS

有一个独立的文件系统存储，服务器通过TCP/IP协议来访问获得数据

### 特点

- 可以共享数据，不同服务器都访问文件系统
- 会占用带宽，因为服务器使用TCP/IP协议访问文件系统

![](http://cdn.frankjoey.com//img2/202211032240904.png)

### 存储区域网络SAN

将存储区域从以太网中分离，单独形成一个区域网络

根据传输过程采用的协议分为

FC SAN 光纤通道

IP SAN IP网络

IB SAN 无线带宽

![](http://cdn.frankjoey.com//img2/202211032245703.png)


# 建筑物综合布线系统

## 工作区子系统

工作区终端设备到信息插座

## 水平布线子系统

信息插座到管理子系统

## 设备间子系统

每层都有，主要是中央主配线架，各种设备等综合在一起的

## 垂直干线子系统

连接各层设备间子系统

## 管理子系统

连接水平布线子系统与垂直干线子系统，负责管理其他子系统的连接

## 建筑群子系统

连接其他建筑的通信系统

# 三层次网络模型

## 核心层

最佳路由和高速数据传送

## 汇聚层

将网络业务连接到接入层，负责负载，安全，流量，路由的策略

## 接入层

为用户提供本地网络访问应用系统的能力，提供用户间的互访


![](http://cdn.frankjoey.com//img2/202211032308918.png)